webpackJsonp([8],{Quw4:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("4YfN"),r=o.n(n),s=o("HVJf"),a={data:function(){return{buttonLoading:!1,form:{email:"786039294@qq.com",password:"zhangxu_123456"},rules:{email:[{required:!0,message:"不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},created:function(){this.$Loading.finish()},methods:r()({},Object(s.b)({login:"admin/login"}),{handleSubmit:function(){var e=this;this.buttonLoading=!0,this.$refs.loginForm.validate(function(t){if(!t)return e.$Message.error("表单验证失败!"),e.buttonLoading=!1,!1;console.log("start"),e.login(e.form).then(function(t){console.log("done"),e.$ls.set("token",t.data.token),e.$Message.success("登录成功！"),e.$router.push("/home")}).catch(function(t){console.log("err"),console.log(t),e.buttonLoading=!1})})}})},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login",on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit(t)}}},[o("div",{staticClass:"login-con"},[o("Card",{attrs:{bordered:!1}},[o("p",{attrs:{slot:"title"},slot:"title"},[o("Icon",{attrs:{type:"log-in"}}),e._v("\n        欢迎登录\n      ")],1),e._v(" "),o("div",{staticClass:"form-con"},[o("Form",{ref:"loginForm",attrs:{model:e.form,rules:e.rules}},[o("FormItem",{attrs:{prop:"email"}},[o("i-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}},[o("span",{attrs:{slot:"prepend"},slot:"prepend"},[o("Icon",{attrs:{size:16,type:"person"}})],1)])],1),e._v(" "),o("FormItem",{attrs:{prop:"password"}},[o("i-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[o("span",{attrs:{slot:"prepend"},slot:"prepend"},[o("Icon",{attrs:{size:14,type:"locked"}})],1)])],1),e._v(" "),o("FormItem",[o("Button",{attrs:{loading:e.buttonLoading,type:"primary",long:""},on:{click:e.handleSubmit}},[e._v("登录")])],1)],1)],1)])],1)])},staticRenderFns:[]};var l=o("C7Lr")(a,i,!1,function(e){o("w1fF")},null,null);t.default=l.exports},w1fF:function(e,t){}});
//# sourceMappingURL=8.d6637da4ecdc21b2cce1.js.map