{"version":3,"sources":["webpack:///./src/views/article/detail.vue?adf6","webpack:///./src/components/Comments.vue?6bdf","webpack:///src/components/Comments.vue","webpack:///./src/components/Comments.vue?ba3b","webpack:///./src/components/Comments.vue","webpack:///src/views/article/detail.vue","webpack:///./src/views/article/detail.vue?d485","webpack:///./src/views/article/detail.vue","webpack:///./src/views/article/detail.vue?b55e","webpack:///./src/components/Comments.vue?f83b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","detail","title","category_detail","name","_e","author","browse","comments_list","data","length","created_at","attrs","staticStyle","model","value","callback","$$v","$set","expression","id","on","changeCommentsPage","updateComments","staticRenderFns","ref","ruleForm","rules","toolbars","$event","resetForm","submitForm","commentsList","_l","item","index","key","nickname","component"],"mappings":"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","file":"js/chunk-fb51522c.9d75dc9e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.detail)?_c('section',{staticClass:\"container\"},[_c('section',{staticClass:\"content\"},[_c('h1',{staticClass:\"article-title\"},[_vm._v(_vm._s(_vm.detail.title))]),_c('div',{staticClass:\"article-info\"},[(_vm.detail.category_detail)?_c('p',{staticClass:\"article-category\"},[_vm._v(\" \"+_vm._s(_vm.detail.category_detail.name)+\" \")]):_vm._e(),_c('p',{staticClass:\"article-author\"},[_c('i',{staticClass:\"icon el-icon-user\"}),_vm._v(\" \"+_vm._s(_vm.detail.author))]),_c('p',{staticClass:\"article-browse\"},[_c('i',{staticClass:\"icon el-icon-view\"}),_vm._v(\" \"+_vm._s(_vm.detail.browse))]),_c('p',{staticClass:\"article-browse\"},[_c('i',{staticClass:\"icon el-icon-chat-dot-round\"}),_vm._v(\" \"+_vm._s(_vm.detail.comments_list.data.length))]),_c('p',{staticClass:\"article-create-at\"},[_c('i',{staticClass:\"icon el-icon-time\"}),_vm._v(\" \"+_vm._s(_vm.detail.created_at))])]),_c('div',{staticClass:\"article-detail\",attrs:{\"id\":\"article-detail\"}},[_c('mavon-editor',{staticStyle:{\"height\":\"100%\"},attrs:{\"ishljs\":true,\"defaultOpen\":'preview',\"editable\":false,\"subfield\":false,\"toolbarsFlag\":false},model:{value:(_vm.detail.content),callback:function ($$v) {_vm.$set(_vm.detail, \"content\", $$v)},expression:\"detail.content\"}})],1),_c('div',{staticClass:\"v-comments\"},[_c('v-comments',{attrs:{\"commentsList\":_vm.detail.comments_list,\"id\":_vm.id},on:{\"changeCommentsPage\":_vm.changeCommentsPage,\"updateComments\":_vm.updateComments}})],1)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('section',{staticClass:\"comments-create\"},[_c('h1',{staticClass:\"comments-title\"},[_c('svg-icon',{staticClass:\"lovely\",attrs:{\"icon-class\":\"lovely\"}}),_vm._v(\"欢迎评论\"),_c('svg-icon',{staticClass:\"lovely\",attrs:{\"icon-class\":\"lovely\"}})],1),_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-position\":\"left\",\"label-width\":\"50px\"}},[_c('el-form-item',{attrs:{\"label\":\"昵称\",\"prop\":\"nickname\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"text\",\"maxlength\":\"6\",\"placeholder\":\"请输入您的昵称\"},model:{value:(_vm.ruleForm.nickname),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"nickname\", $$v)},expression:\"ruleForm.nickname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"内容\",\"prop\":\"content\"}},[_c('mavon-editor',{staticStyle:{\"min-height\":\"100px\"},attrs:{\"autofocus\":false,\"defaultOpen\":'edit',\"toolbars\":_vm.toolbars,\"placeholder\":\"请输入评论内容\",\"ishljs\":true},model:{value:(_vm.ruleForm.content),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"content\", $$v)},expression:\"ruleForm.content\"}})],1),_c('el-form-item',[_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('ruleForm')}}},[_vm._v(\"重置\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"提交评论\")])],1)],1)],1),(_vm.commentsList && _vm.commentsList.data.length > 0)?_c('section',{staticClass:\"comments-list\"},[_c('h1',{staticClass:\"comments-title\"},[_vm._v(\"评论列表\")]),_c('ul',{staticClass:\"comments-box\"},_vm._l((_vm.commentsList.data),function(item,index){return _c('li',{key:index,staticClass:\"comments-item\"},[_c('div',{staticClass:\"comments-item-username\"},[_c('i',{staticClass:\"icon el-icon-chat-dot-round\"}),_vm._v(\" 来自「\"+_vm._s(item.nickname)+\"」的评论： \")]),_c('div',{staticClass:\"comments-item-content\"},[_c('mavon-editor',{staticStyle:{\"min-height\":\"0\",\"width\":\"100%\"},attrs:{\"ishljs\":true,\"defaultOpen\":'preview',\"editable\":false,\"subfield\":false,\"toolbarsFlag\":false},model:{value:(item.content),callback:function ($$v) {_vm.$set(item, \"content\", $$v)},expression:\"item.content\"}})],1)])}),0)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section>\n    <section class=\"comments-create\">\n      <h1 class=\"comments-title\"><svg-icon icon-class=\"lovely\" class=\"lovely\"></svg-icon>欢迎评论<svg-icon icon-class=\"lovely\" class=\"lovely\"></svg-icon></h1>\n      <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" label-position=\"left\" ref=\"ruleForm\" label-width=\"50px\"\n               class=\"demo-ruleForm\">\n        <el-form-item label=\"昵称\" prop=\"nickname\">\n          <el-input type=\"text\" maxlength=\"6\" style=\"width:200px\" placeholder=\"请输入您的昵称\" v-model=\"ruleForm.nickname\"></el-input>\n        </el-form-item>\n        <!-- <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input type=\"text\" placeholder=\"请输入您的邮箱（不会被公开）\" v-model=\"ruleForm.email\"></el-input>\n        </el-form-item> -->\n        <el-form-item label=\"内容\" prop=\"content\">\n          <mavon-editor\n            style=\"min-height:100px\"\n            v-model=\"ruleForm.content\"\n            :autofocus=\"false\"\n            :defaultOpen=\"'edit'\"\n            :toolbars=\"toolbars\"\n            placeholder=\"请输入评论内容\"\n            :ishljs=\"true\">\n          </mavon-editor>\n        </el-form-item>\n        <el-form-item>\n          <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\n          <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">提交评论</el-button>\n        </el-form-item>\n      </el-form>\n    </section>\n\n    <section class=\"comments-list\" v-if=\"commentsList && commentsList.data.length > 0\">\n      <h1 class=\"comments-title\">评论列表</h1>\n      <ul class=\"comments-box\">\n        <li v-for=\"(item, index) in commentsList.data\"\n            class=\"comments-item\"\n            :key=\"index\">\n          <div class=\"comments-item-username\">\n            <i class=\"icon el-icon-chat-dot-round\"></i> 来自「{{item.nickname}}」的评论：\n          </div>\n          <div class=\"comments-item-content\">\n            <mavon-editor\n              style=\"min-height: 0;width: 100%\"\n              :ishljs=\"true\"\n              v-model=\"item.content\"\n              :defaultOpen=\"'preview'\"\n              :editable=\"false\"\n              :subfield=\"false\"\n              :toolbarsFlag=\"false\">\n            </mavon-editor>\n          </div>\n        </li>\n      </ul>\n      <!-- <section class=\"page\" v-if=\"commentsList && commentsList.meta\">\n        <el-pagination\n          background\n          v-show=\"commentsList.meta.count>1\"\n          layout=\"prev, pager, next\"\n          :page-count=\"commentsList.meta.count\"\n          :current-page=\"commentsList.meta.current_page\"\n          @current-change=\"changePage\"\n          :total=\"commentsList.meta.total\">\n        </el-pagination>\n      </section> -->\n    </section>\n  </section>\n</template>\n\n<script>\n  import {mapState, mapActions} from 'vuex'\n\n  export default {\n    props: ['id', 'commentsList'],\n    data() {\n      var validateEmail = (rule, value, callback) => {\n        const reg = /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\n\n        if (value === '') {\n          callback(new Error('请输入邮箱'));\n\n        } else if (!reg.test(value)) {\n          callback(new Error('请输入正确的邮箱'));\n        } else {\n          callback();\n        }\n      };\n      var validateNickname = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('请输入昵称'));\n        } else {\n          callback();\n        }\n      };\n      var validateContent = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('请输入评论内容'));\n        } else {\n          callback();\n        }\n      };\n      return {\n        ruleForm: {\n          nickname: '',\n          email: '',\n          content: ''\n        },\n        rules: {\n          nickname: [\n            {validator: validateNickname, trigger: 'blur'}\n          ],\n          email: [\n            {validator: validateEmail, trigger: 'blur'}\n          ],\n          content: [\n            {validator: validateContent, trigger: 'blur'}\n          ],\n        },\n        toolbars: {\n          bold: true, // 粗体\n          italic: true, // 斜体\n          header: false, // 标题\n          underline: true, // 下划线\n          strikethrough: true, // 中划线\n          mark: false, // 标记\n          superscript: false, // 上角标\n          subscript: false, // 下角标\n          quote: true, // 引用\n          ol: false, // 有序列表\n          ul: false, // 无序列表\n          link: true, // 链接\n          imagelink: false, // 图片链接\n          code: false, // code\n          table: false, // 表格\n          fullscreen: true, // 全屏编辑\n          readmodel: false, // 沉浸式阅读\n          htmlcode: false, // 展示html源码\n          help: true, // 帮助\n          /* 1.3.5 */\n          undo: false, // 上一步\n          redo: false, // 下一步\n          trash: false, // 清空\n          save: false, // 保存（触发events中的save事件）\n          /* 1.4.2 */\n          navigation: false, // 导航目录\n          /* 2.1.8 */\n          alignleft: true, // 左对齐\n          aligncenter: true, // 居中\n          alignright: true, // 右对齐\n          /* 2.2.1 */\n          subfield: false, // 单双栏模式\n          preview: true, // 预览\n        }\n      }\n    },\n    computed: {\n      ...mapState({\n        userInfo: state => state.user.userInfo\n      })\n    },\n    created() {\n\n    },\n    methods: {\n      ...mapActions({\n        createComments: 'comments/createComments'\n      }),\n\n      /**\n       * 切换页码\n       * @page 页码\n       */\n      async changePage(page) {\n        this.$emit('changeCommentsPage', page);\n      },\n\n      // 重置表单\n      resetForm(formName) {\n        this.$refs[formName].resetFields();\n      },\n      // 显示信息\n      showMessage(message, type = 'success') {\n        this.$message({\n          message,\n          type\n        });\n      },\n\n      // 提交表单\n      submitForm(formName) {\n        this.$refs[formName].validate(async (valid) => {\n          if (valid) {\n            await this.createArticleComments();\n\n          } else {\n            this.showMessage('请完善表单', 'error');\n            return false;\n          }\n        });\n      },\n\n      // 创建评论\n      async createArticleComments() {\n        let {content, nickname, email} = this.ruleForm;\n\n        const res = await this.createComments({\n          email,\n          nickname,\n          content,\n          article_id: this.id,\n        });\n\n        this.$message({\n          message: '评论成功',\n          type: 'success'\n        });\n\n        this.resetForm('ruleForm');\n        const newComments = res.data.data;\n        this.$emit('updateComments', newComments);\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  .comments-title {\n    padding: 16px 0;\n    color: #409EFF;\n    font-size: 18px;\n  }\n\n  .comments-create {\n    width: 100%;\n\n    .comments-input-item {\n      margin-bottom: 16px;\n    }\n  }\n\n  .comments-list {\n    width: 100%;\n    box-sizing: border-box;\n\n    .comments-item {\n      padding: 24px 0;\n      border-bottom: 1px solid #f0f0f0;\n\n    }\n\n    .comments-item-username {\n      font-size: 16px;\n      color: #409EFF;\n      font-weight: bold;\n    }\n\n    .comments-item-content {\n      box-sizing: border-box;\n      padding: 24px 24px 0 24px;\n      font-size: 16px;\n    }\n  }\n\n  .page {\n    padding: 32px 0;\n    text-align: center;\n  }\n\n  @media screen and (min-width: 200px) and (max-width: 768px) {\n    .comments-create {\n      width: 100%;\n    }\n  }\n\n</style>\n\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Comments.vue?vue&type=template&id=1e9020f9&scoped=true&\"\nimport script from \"./Comments.vue?vue&type=script&lang=js&\"\nexport * from \"./Comments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Comments.vue?vue&type=style&index=0&id=1e9020f9&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e9020f9\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section class=\"container\" v-if=\"detail\">\n    <section class=\"content\">\n      <h1 class=\"article-title\">{{detail.title}}</h1>\n      <div class=\"article-info\">\n        <p class=\"article-category\" v-if=\"detail.category_detail\">\n          {{detail.category_detail.name}}\n        </p>\n        <p class=\"article-author\"><i class=\"icon el-icon-user\"></i> {{detail.author}}</p>\n        <p class=\"article-browse\"><i class=\"icon el-icon-view\"></i> {{detail.browse}}</p>\n        <p class=\"article-browse\"><i class=\"icon el-icon-chat-dot-round\"></i> {{detail.comments_list.data.length}}</p>\n        <p class=\"article-create-at\"><i class=\"icon el-icon-time\"></i> {{detail.created_at}}</p>\n      </div>\n\n      <div class=\"article-detail\" id=\"article-detail\">\n        <mavon-editor\n          style=\"height: 100%\"\n          :ishljs=\"true\"\n          v-model=\"detail.content\"\n          :defaultOpen=\"'preview'\"\n          :editable=\"false\"\n          :subfield=\"false\"\n          :toolbarsFlag=\"false\">\n        </mavon-editor>\n      </div>\n\n      <div class=\"v-comments\">\n        <v-comments\n          :commentsList=detail.comments_list\n          @changeCommentsPage=\"changeCommentsPage\"\n          @updateComments=\"updateComments\"\n          :id=\"id\">\n        </v-comments>\n      </div>\n    </section>\n  </section>\n</template>\n<script>\n  import {mapState, mapActions} from 'vuex'\n  import VComments from '../../components/Comments'\n\n  export default {\n    components: {\n      VComments\n    },\n    data() {\n      return {\n        // 文章ID\n        id: this.$route.params.id,\n        // 文章详情\n        detail: null\n      }\n    },\n    created() {\n      if (!this.id) {\n        this.$router.push('/article');\n      } else {\n        this.getArticle();\n      }\n    },\n\n    methods: {\n      ...mapActions({\n        getArticleDetail: 'article/getArticleDetail',\n        getCommentsList: 'comments/getCommentsList',\n        createComments: 'comments/createComments'\n      }),\n\n      // 更新评论\n      updateComments(newComments) {\n        this.detail.comments_list.data.unshift(newComments);\n      },\n      // 切换评论页面\n      async changeCommentsPage(page) {\n        const res = await this.getCommentsList({\n          article_id: this.id,\n          page\n        });\n\n        this.detail.comments_list = res.data.data;\n      },\n      /**\n       * 获取文章详情\n       * @returns 文章详情\n       */\n      async getArticle() {\n        let res = await this.getArticleDetail(this.id);\n        this.detail = res.data.data;\n        document.title = this.detail.title;\n      }\n\n    }\n  }\n</script>\n\n\n<style lang=\"scss\" scoped>\n  .container {\n    box-sizing: border-box;\n    position: relative;\n    width: 90%;\n    max-width: 1360px;\n    margin: 24px auto;\n\n    & .content {\n      box-sizing: border-box;\n      padding: 32px;\n      position: relative;\n      width: 100%;\n      background: #fff;\n      border-radius: 8px;\n\n      & .article-title {\n        font-size: 18px;\n        color: #404040;\n      }\n\n      & .article-info {\n        width: 100%;\n        & p {\n          display: inline-block;\n          margin-right: 24px;\n          margin-top: 24px;\n          font-size: 14px;\n          color: #9ea7b4;\n        }\n\n        & p.article-category {\n          height: 25px;\n          line-height: 25px;\n          padding: 0 20px;\n          font-size: 16px;\n          color: #409EFF;\n          border-radius: 32px;\n          background: rgba(51, 119, 255, .1);\n        }\n      }\n\n      & .article-detail {\n        // font-size: 16px;\n        color: #657180;\n        line-height: 48px;\n        margin-top: 32px;\n      }\n    }\n  }\n\n  @media screen and (min-width: 200px) and (max-width: 768px) {\n    .container {\n      width: 100%;\n    }\n    .container .content .article-info p.article-created-at {\n      display: none;\n    }\n  }\n\n</style>\n\n\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=68c908c3&scoped=true&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=68c908c3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"68c908c3\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&id=68c908c3&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&id=68c908c3&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=style&index=0&id=1e9020f9&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=style&index=0&id=1e9020f9&scoped=true&lang=scss&\""],"sourceRoot":""}